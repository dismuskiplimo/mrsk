jQuery(function(a){function b(a){a.find(".social-icons-list").sortable({items:"li",cursor:"move",axis:"y",handle:"span.socicon",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65})}a(document.body).on("si-init-hidden-options",function(){a("input.show_label").change(function(){var b=a(this).parents(".widget-content").find(".social-icons-list");a(this).is(":checked")?b.removeClass("hide-icons-label"):b.addClass("hide-icons-label")}).change()}).trigger("si-init-hidden-options"),a(document.body).on("click",".social-icons-add-button button",function(b){b.preventDefault();var c=a(this).parents(".widget-content").find(".social-icons-list"),d=c.data("url-field-id"),e=c.data("url-field-name"),f=c.data("label-field-id"),g=c.data("label-field-name"),h=a(a.trim(a("#tmpl-social-icons-field").html()));h.find(".social-icons-field-url").attr("id",d).attr("name",e+"[]"),h.find(".social-icons-field-label").attr("id",f).attr("name",g+"[]"),c.append(h),c.last().find("input:first-child").trigger("focus"),a(this).parents(".widget-content").find(".social-icons-list:last input:first-child").trigger("focus")}),a(document.body).on("keyup",".social-icons-field-url",function(){var b,c=a(this),d=!1;(b=c.val().toLowerCase())&&(a.each(social_icons_admin_widgets.supported_url_icon,function(a,c){if(b.indexOf(a)!==-1)return d=c,!0}),d||a.each(social_icons_admin_widgets.allowed_socicons,function(a,c){if(b.indexOf(c)!==-1)return d=c,!0})),d?(a(".social-icons-add-button").find("button").removeAttr("disabled"),c.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle socicon socicon-"+d)):(a(".social-icons-add-button").find("button").attr("disabled","disabled"),c.parents(".social-icons-field").find(".social-icons-field-handle").attr("class","social-icons-field-handle dashicons dashicons-plus"))}),a(document.body).on("panelsopen",function(c){var d=a(c.target);return!!d.has("social-icons-list")&&(d.addClass("widget-content"),b(d),void a(document.body).trigger("si-init-hidden-options"))}),a(document.body).on("click",".social-icons-field-remove",function(b){b.preventDefault(),a(this).parents(".social-icons-field").remove()}),a(document.body).on("click","div.widget[id*=themegrill_social_icons] .widget-title, div.widget[id*=themegrill_social_icons] .widget-title-action",function(){a(this).parents("#available-widgets").length||b(a(this).parents(".widget[id*=themegrill_social_icons]"))}),a(document).on("widget-added widget-updated",function(c,d){d.is("[id*=themegrill_social_icons]")&&(c.preventDefault(),b(d)),a(document.body).trigger("si-init-hidden-options")})});